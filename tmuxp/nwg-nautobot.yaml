session_name: nwg-nautobot
start_directory: ~/projects/nautobot/nwg-nautobot

windows:
  - window_name: editor
    start_directory: .
    panes:
      - shell_command:
          - nvim .
        focus: true

  - window_name: services
    start_directory: .
    layout: tiled
    panes:
      - shell_command:
          - printf "\033]2;backend\007"
          - source venv/bin/activate
          - nautobot-server runserver 0.0.0.0:8000

      - shell_command:
          - source venv/bin/activate

      - shell_command:
          - printf "\033]2;worker\007"
          - source venv/bin/activate
          - nautobot-server celery worker --loglevel=info --pool=solo --concurrency=1

  - window_name: lazygit
    start_directory: .
    panes:
      - shell_command:
          - lazygit
        focus: true
